diff --git a/node_modules/@storesjs/stores/dist/web/chrome.js b/node_modules/@storesjs/stores/dist/web/chrome.js
index 0000000..1111111 100644
--- a/node_modules/@storesjs/stores/dist/web/chrome.js
+++ b/node_modules/@storesjs/stores/dist/web/chrome.js
@@ -1 +1 @@
-"use strict";function e(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function t(e,t){return t instanceof Map?{__type:"Map",entries:Array.from(t.entries())}:t instanceof Set?{__type:"Set",values:Array.from(t)}:t}function r(e,t){return function(e){return"object"==typeof e&&null!==e&&"__type"in e&&"Map"===e.__type}(t)?new Map(t.entries):function(e){return"object"==typeof e&&null!==e&&"__type"in e&&"Set"===e.__type}(t)?new Set(t.values):t}var s="stores/chrome-storage",n=class{constructor(e){this.async=!0,this.deserializer=i,this.serializer=a,this.area=e?.area??"local",this.namespace=e?.namespace??s}async clearAll(){const e=this.ensureStorage();if(!e)return;const t=this.namespacePrefix();if(!t)throw new Error("Cannot clear all storage with empty namespace. This would delete all storage entries. Please provide a namespace.");const r=await this.listPrefixedKeys(e,t);r.length&&await this.execute(e,t=>e.remove(r,t))}async contains(e){const t=this.ensureStorage();if(!t)return!1;const r=this.toStorageKey(e),s=await this.getFromStorage(t,r);return Object.prototype.hasOwnProperty.call(s,r)}async delete(e){const t=this.ensureStorage();if(!t)return;const r=this.toStorageKey(e);await this.execute(t,e=>t.remove(r,e))}async getAllKeys(){const e=this.ensureStorage();if(!e)return[];const t=this.namespacePrefix(),r=await this.getFromStorage(e,null);return Object.keys(r).filter(e=>e.startsWith(t)).map(e=>e.slice(t.length))}async get(e){const t=this.ensureStorage();if(!t)return;const r=this.toStorageKey(e),s=(await this.getFromStorage(t,r))[r];return o(s)?s:void 0}async set(e,t){const r=this.ensureStorage();if(!r)return;const s=this.toStorageKey(e);await this.execute(r,e=>r.set({[s]:t},e))}ensureStorage(){return e=this.area,"undefined"!=typeof chrome&&chrome.storage?chrome.storage[e]??null:null;var e}namespacePrefix(){return this.namespace?`${this.namespace}:`:""}toStorageKey(e){return`${this.namespacePrefix()}${e}`}async listPrefixedKeys(e,t){const r=await this.getFromStorage(e,null);return Object.keys(r).filter(e=>e.startsWith(t))}async getFromStorage(e,t){return this.invokeWithCallbackSupport(r=>e.get(t,r))}async execute(e,t){await this.invokeWithCallbackSupport(t)}async invokeWithCallbackSupport(e){return new Promise((t,r)=>{let s=!1;const n=e=>{if(s)return;s=!0;const n="undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.lastError?new Error(chrome.runtime.lastError.message):null;n?r(n):t(e)};try{const t=e(n);(a=t)&&"object"==typeof a&&"then"in a&&"function"==typeof a.then&&t.then(n).catch(r)}catch(e){r(e)}var a})}};function a(e){return{state:c(e.state),syncMetadata:e.syncMetadata,version:e.version}}function i(e){if(!o(e))throw new Error("[ChromeStorageAdapter] Invalid serialized state format");return{state:h(e.state),syncMetadata:e.syncMetadata,version:e.version}}function o(e){return!(!e||"object"!=typeof e)&&Object.prototype.hasOwnProperty.call(e,"state")}function c(r,s=t){if(r instanceof Map||r instanceof Set)return s.call(void 0,"",r);if(!e(r))return r;const n={};for(const[e,t]of Object.entries(r))n[e]=s.call(r,e,t);return n}function h(t,s=r){const n=s.call(void 0,"",t);if(!e(n))return n;const a={};for(const e of Object.entries(n)){const t=e[0],r=e[1];a[t]=s.call(n,t,r)}return a}var l=class{constructor(e){this.injectStorageMetadata=!0,this.registrations=new Map,this.isListening=!1,this.onStorageChanged=async(e,t)=>{if(t===this.area)for(const t of this.registrations){const r=t[0],s=t[1];if(s.destroyed)continue;const n=e[this.toStorageKey(r)];if(n&&void 0!==n.newValue)try{const e=this.parsePersistValue(n.newValue);if(!e||e.syncMetadata?.origin===this.sessionId)continue;const t=e?.syncMetadata,r=this.extractChangedFields(s,e.state,t,n.oldValue);if(!Object.keys(r).length)continue;s.registration.apply({replace:!1,sessionId:t?.origin??"unknown",timestamp:t?.timestamp??Date.now(),values:r})}catch(e){continue}}},e&&"storage"in e?(this.area=e.storage.area,this.namespace=e.storage.namespace):(this.area=e?.area??"local",this.namespace=e?.namespace??s),this.sessionId=this.generateSessionId(),this.attachListener()}generateSessionId(){return"undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():`${Math.random().toString(36).slice(2)}:${Date.now().toString(36)}`}register(e){this.attachListener();const t={destroyed:!1,hydrated:!0,listeners:new Set,registration:e};return this.registrations.set(e.key,t),{destroy:()=>{t.destroyed=!0,t.listeners.clear(),this.registrations.delete(e.key),this.registrations.size||this.detachListener()},publish:null}}attachListener(){"undefined"!=typeof chrome&&chrome.storage&&!this.isListening&&(this.isListening=!0,chrome.storage.onChanged.addListener(this.onStorageChanged))}detachListener(){"undefined"!=typeof chrome&&chrome.storage&&this.isListening&&(chrome.storage.onChanged.removeListener(this.onStorageChanged),this.isListening=!1)}extractChangedFields(e,t,r,s){const n=Object.create(null),a=r?.fields;if(a&&Object.keys(a).length>0){let r=!1;for(const s of e.registration.fields){const e=String(s);Object.prototype.hasOwnProperty.call(a,e)&&(n[s]=t[s],r=!0)}if(r)return n}const i=this.parsePersistValue(s);for(const r of e.registration.fields){const e=t[r],s=i?.state[r];Object.is(e,s)||(n[r]=e)}return n}namespacePrefix(){return this.namespace?`${this.namespace}:`:""}toStorageKey(e){return`${this.namespacePrefix()}${e}`}parsePersistValue(e){return i(e)}};exports.ChromeExtensionSyncEngine=l,exports.ChromeStorageAdapter=n,exports.createSyncedChromeStorage=function(e){const t=new n(e);return{storage:t,syncEngine:new l({storage:t})}};
+"use strict";function e(e){if("object"!=typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return null===t||t===Object.prototype}function t(e,t){return t instanceof Map?{__type:"Map",entries:Array.from(t.entries())}:t instanceof Set?{__type:"Set",values:Array.from(t)}:t}function r(e,t){return function(e){return"object"==typeof e&&null!==e&&"__type"in e&&"Map"===e.__type}(t)?new Map(t.entries):function(e){return"object"==typeof e&&null!==e&&"__type"in e&&"Set"===e.__type}(t)?new Set(t.values):t}var s="stores/chrome-storage",n=class{constructor(e){this.async=!0,this.deserializer=i,this.serializer=a,this.area=e?.area??"local",this.namespace=e?.namespace??s}async clearAll(){const e=this.ensureStorage();if(!e)return;const t=this.namespacePrefix();if(!t)throw new Error("Cannot clear all storage with empty namespace. This would delete all storage entries. Please provide a namespace.");const r=await this.listPrefixedKeys(e,t);r.length&&await this.execute(e,t=>e.remove(r,t))}async contains(e){const t=this.ensureStorage();if(!t)return!1;const r=this.toStorageKey(e),s=await this.getFromStorage(t,r);return Object.prototype.hasOwnProperty.call(s,r)}async delete(e){const t=this.ensureStorage();if(!t)return;const r=this.toStorageKey(e);await this.execute(t,e=>t.remove(r,e))}async getAllKeys(){const e=this.ensureStorage();if(!e)return[];const t=this.namespacePrefix(),r=await this.getFromStorage(e,null);return Object.keys(r).filter(e=>e.startsWith(t)).map(e=>e.slice(t.length))}async get(e){const t=this.ensureStorage();if(!t)return;const r=this.toStorageKey(e),s=(await this.getFromStorage(t,r))[r];return o(s)?s:void 0}async set(e,t){const r=this.ensureStorage();if(!r)return;const s=this.toStorageKey(e);await this.execute(r,e=>r.set({[s]:t},e))}ensureStorage(){return e=this.area,"undefined"!=typeof chrome&&chrome.storage?chrome.storage[e]??null:null;var e}namespacePrefix(){return this.namespace?`${this.namespace}`:""}toStorageKey(e){return`${this.namespacePrefix()}${e}`}async listPrefixedKeys(e,t){const r=await this.getFromStorage(e,null);return Object.keys(r).filter(e=>e.startsWith(t))}async getFromStorage(e,t){return this.invokeWithCallbackSupport(r=>e.get(t,r))}async execute(e,t){await this.invokeWithCallbackSupport(t)}async invokeWithCallbackSupport(e){return new Promise((t,r)=>{let s=!1;const n=e=>{if(s)return;s=!0;const n="undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.lastError?new Error(chrome.runtime.lastError.message):null;n?r(n):t(e)};try{const t=e(n);(a=t)&&"object"==typeof a&&"then"in a&&"function"==typeof a.then&&t.then(n).catch(r)}catch(e){r(e)}var a})}};function a(e){return{state:c(e.state),syncMetadata:e.syncMetadata,version:e.version}}function i(e){if(!o(e))throw new Error("[ChromeStorageAdapter] Invalid serialized state format");return{state:h(e.state),syncMetadata:e.syncMetadata,version:e.version}}function o(e){return!(!e||"object"!=typeof e)&&Object.prototype.hasOwnProperty.call(e,"state")}function c(r,s=t){if(r instanceof Map||r instanceof Set)return s.call(void 0,"",r);if(!e(r))return r;const n={};for(const[e,t]of Object.entries(r))n[e]=s.call(r,e,t);return n}function h(t,s=r){const n=s.call(void 0,"",t);if(!e(n))return n;const a={};for(const e of Object.entries(n)){const t=e[0],r=e[1];a[t]=s.call(n,t,r)}return a}var l=class{constructor(e){this.injectStorageMetadata=!0,this.registrations=new Map,this.isListening=!1,this.onStorageChanged=async(e,t)=>{if(t===this.area)for(const t of this.registrations){const r=t[0],s=t[1];if(s.destroyed)continue;const n=e[this.toStorageKey(r)];if(n&&void 0!==n.newValue)try{const e=this.parsePersistValue(n.newValue);if(!e||e.syncMetadata?.origin===this.sessionId)continue;const t=e?.syncMetadata,r=this.extractChangedFields(s,e.state,t,n.oldValue);if(!Object.keys(r).length)continue;s.registration.apply({replace:!1,sessionId:t?.origin??"unknown",timestamp:t?.timestamp??Date.now(),values:r})}catch(e){continue}}},e&&"storage"in e?(this.area=e.storage.area,this.namespace=e.storage.namespace):(this.area=e?.area??"local",this.namespace=e?.namespace??s),this.sessionId=this.generateSessionId(),this.attachListener()}generateSessionId(){return"undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():`${Math.random().toString(36).slice(2)}:${Date.now().toString(36)}`}register(e){this.attachListener();const t={destroyed:!1,hydrated:!0,listeners:new Set,registration:e};return this.registrations.set(e.key,t),{destroy:()=>{t.destroyed=!0,t.listeners.clear(),this.registrations.delete(e.key),this.registrations.size||this.detachListener()},publish:null}}attachListener(){"undefined"!=typeof chrome&&chrome.storage&&!this.isListening&&(this.isListening=!0,chrome.storage.onChanged.addListener(this.onStorageChanged))}detachListener(){"undefined"!=typeof chrome&&chrome.storage&&this.isListening&&(chrome.storage.onChanged.removeListener(this.onStorageChanged),this.isListening=!1)}extractChangedFields(e,t,r,s){const n=Object.create(null),a=r?.fields;if(a&&Object.keys(a).length>0){let r=!1;for(const s of e.registration.fields){const e=String(s);Object.prototype.hasOwnProperty.call(a,e)&&(n[s]=t[s],r=!0)}if(r)return n}const i=this.parsePersistValue(s);for(const r of e.registration.fields){const e=t[r],s=i?.state[r];Object.is(e,s)||(n[r]=e)}return n}namespacePrefix(){return this.namespace?`${this.namespace}`:""}toStorageKey(e){return`${this.namespacePrefix()}${e}`}parsePersistValue(e){return i(e)}};exports.ChromeExtensionSyncEngine=l,exports.ChromeStorageAdapter=n,exports.createSyncedChromeStorage=function(e){const t=new n(e);return{storage:t,syncEngine:new l({storage:t})}};
diff --git a/node_modules/@storesjs/stores/dist/web/chrome.mjs b/node_modules/@storesjs/stores/dist/web/chrome.mjs
index 0000000..1111111 100644
--- a/node_modules/@storesjs/stores/dist/web/chrome.mjs
+++ b/node_modules/@storesjs/stores/dist/web/chrome.mjs
@@ -1 +1 @@
-import{isPromiseLike as e,replacer as t,reviver as s,isPlainObject as r}from"./chunk-YWUZUTPH.mjs";var n="stores/chrome-storage",a=class{constructor(e){this.async=!0,this.deserializer=o,this.serializer=i,this.area=e?.area??"local",this.namespace=e?.namespace??n}async clearAll(){const e=this.ensureStorage();if(!e)return;const t=this.namespacePrefix();if(!t)throw new Error("Cannot clear all storage with empty namespace. This would delete all storage entries. Please provide a namespace.");const s=await this.listPrefixedKeys(e,t);s.length&&await this.execute(e,t=>e.remove(s,t))}async contains(e){const t=this.ensureStorage();if(!t)return!1;const s=this.toStorageKey(e),r=await this.getFromStorage(t,s);return Object.prototype.hasOwnProperty.call(r,s)}async delete(e){const t=this.ensureStorage();if(!t)return;const s=this.toStorageKey(e);await this.execute(t,e=>t.remove(s,e))}async getAllKeys(){const e=this.ensureStorage();if(!e)return[];const t=this.namespacePrefix(),s=await this.getFromStorage(e,null);return Object.keys(s).filter(e=>e.startsWith(t)).map(e=>e.slice(t.length))}async get(e){const t=this.ensureStorage();if(!t)return;const s=this.toStorageKey(e),r=(await this.getFromStorage(t,s))[s];return c(r)?r:void 0}async set(e,t){const s=this.ensureStorage();if(!s)return;const r=this.toStorageKey(e);await this.execute(s,e=>s.set({[r]:t},e))}ensureStorage(){return e=this.area,"undefined"!=typeof chrome&&chrome.storage?chrome.storage[e]??null:null;var e}namespacePrefix(){return this.namespace?`${this.namespace}:`:""}toStorageKey(e){return`${this.namespacePrefix()}${e}`}async listPrefixedKeys(e,t){const s=await this.getFromStorage(e,null);return Object.keys(s).filter(e=>e.startsWith(t))}async getFromStorage(e,t){return this.invokeWithCallbackSupport(s=>e.get(t,s))}async execute(e,t){await this.invokeWithCallbackSupport(t)}async invokeWithCallbackSupport(t){return new Promise((s,r)=>{let n=!1;const a=e=>{if(n)return;n=!0;const t="undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.lastError?new Error(chrome.runtime.lastError.message):null;t?r(t):s(e)};try{const s=t(a);e(s)&&s.then(a).catch(r)}catch(e){r(e)}})}};function i(e){return{state:h(e.state),syncMetadata:e.syncMetadata,version:e.version}}function o(e){if(!c(e))throw new Error("[ChromeStorageAdapter] Invalid serialized state format");return{state:l(e.state),syncMetadata:e.syncMetadata,version:e.version}}function c(e){return!(!e||"object"!=typeof e)&&Object.prototype.hasOwnProperty.call(e,"state")}function h(e,s=t){if(e instanceof Map||e instanceof Set)return s.call(void 0,"",e);if(!r(e))return e;const n={};for(const[t,r]of Object.entries(e))n[t]=s.call(e,t,r);return n}function l(e,t=s){const n=t.call(void 0,"",e);if(!r(n))return n;const a={};for(const e of Object.entries(n)){const s=e[0],r=e[1];a[s]=t.call(n,s,r)}return a}var u=class{constructor(e){this.injectStorageMetadata=!0,this.registrations=new Map,this.isListening=!1,this.onStorageChanged=async(e,t)=>{if(t===this.area)for(const t of this.registrations){const s=t[0],r=t[1];if(r.destroyed)continue;const n=e[this.toStorageKey(s)];if(n&&void 0!==n.newValue)try{const e=this.parsePersistValue(n.newValue);if(!e||e.syncMetadata?.origin===this.sessionId)continue;const t=e?.syncMetadata,s=this.extractChangedFields(r,e.state,t,n.oldValue);if(!Object.keys(s).length)continue;r.registration.apply({replace:!1,sessionId:t?.origin??"unknown",timestamp:t?.timestamp??Date.now(),values:s})}catch(e){continue}}},e&&"storage"in e?(this.area=e.storage.area,this.namespace=e.storage.namespace):(this.area=e?.area??"local",this.namespace=e?.namespace??n),this.sessionId=this.generateSessionId(),this.attachListener()}generateSessionId(){return"undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():`${Math.random().toString(36).slice(2)}:${Date.now().toString(36)}`}register(e){this.attachListener();const t={destroyed:!1,hydrated:!0,listeners:new Set,registration:e};return this.registrations.set(e.key,t),{destroy:()=>{t.destroyed=!0,t.listeners.clear(),this.registrations.delete(e.key),this.registrations.size||this.detachListener()},publish:null}}attachListener(){"undefined"!=typeof chrome&&chrome.storage&&!this.isListening&&(this.isListening=!0,chrome.storage.onChanged.addListener(this.onStorageChanged))}detachListener(){"undefined"!=typeof chrome&&chrome.storage&&this.isListening&&(chrome.storage.onChanged.removeListener(this.onStorageChanged),this.isListening=!1)}extractChangedFields(e,t,s,r){const n=Object.create(null),a=s?.fields;if(a&&Object.keys(a).length>0){let s=!1;for(const r of e.registration.fields){const e=String(r);Object.prototype.hasOwnProperty.call(a,e)&&(n[r]=t[r],s=!0)}if(s)return n}const i=this.parsePersistValue(r);for(const s of e.registration.fields){const e=t[s],r=i?.state[s];Object.is(e,r)||(n[s]=e)}return n}namespacePrefix(){return this.namespace?`${this.namespace}:`:""}toStorageKey(e){return`${this.namespacePrefix()}${e}`}parsePersistValue(e){return o(e)}};function g(e){const t=new a(e);return{storage:t,syncEngine:new u({storage:t})}}export{u as ChromeExtensionSyncEngine,a as ChromeStorageAdapter,g as createSyncedChromeStorage};
+import{isPromiseLike as e,replacer as t,reviver as s,isPlainObject as r}from"./chunk-YWUZUTPH.mjs";var n="stores/chrome-storage",a=class{constructor(e){this.async=!0,this.deserializer=o,this.serializer=i,this.area=e?.area??"local",this.namespace=e?.namespace??n}async clearAll(){const e=this.ensureStorage();if(!e)return;const t=this.namespacePrefix();if(!t)throw new Error("Cannot clear all storage with empty namespace. This would delete all storage entries. Please provide a namespace.");const s=await this.listPrefixedKeys(e,t);s.length&&await this.execute(e,t=>e.remove(s,t))}async contains(e){const t=this.ensureStorage();if(!t)return!1;const s=this.toStorageKey(e),r=await this.getFromStorage(t,s);return Object.prototype.hasOwnProperty.call(r,s)}async delete(e){const t=this.ensureStorage();if(!t)return;const s=this.toStorageKey(e);await this.execute(t,e=>t.remove(s,e))}async getAllKeys(){const e=this.ensureStorage();if(!e)return[];const t=this.namespacePrefix(),s=await this.getFromStorage(e,null);return Object.keys(s).filter(e=>e.startsWith(t)).map(e=>e.slice(t.length))}async get(e){const t=this.ensureStorage();if(!t)return;const s=this.toStorageKey(e),r=(await this.getFromStorage(t,s))[s];return c(r)?r:void 0}async set(e,t){const s=this.ensureStorage();if(!s)return;const r=this.toStorageKey(e);await this.execute(s,e=>s.set({[r]:t},e))}ensureStorage(){return e=this.area,"undefined"!=typeof chrome&&chrome.storage?chrome.storage[e]??null:null;var e}namespacePrefix(){return this.namespace?`${this.namespace}`:""}toStorageKey(e){return`${this.namespacePrefix()}${e}`}async listPrefixedKeys(e,t){const s=await this.getFromStorage(e,null);return Object.keys(s).filter(e=>e.startsWith(t))}async getFromStorage(e,t){return this.invokeWithCallbackSupport(s=>e.get(t,s))}async execute(e,t){await this.invokeWithCallbackSupport(t)}async invokeWithCallbackSupport(t){return new Promise((s,r)=>{let n=!1;const a=e=>{if(n)return;n=!0;const t="undefined"!=typeof chrome&&chrome.runtime&&chrome.runtime.lastError?new Error(chrome.runtime.lastError.message):null;t?r(t):s(e)};try{const s=t(a);e(s)&&s.then(a).catch(r)}catch(e){r(e)}})}};function i(e){return{state:h(e.state),syncMetadata:e.syncMetadata,version:e.version}}function o(e){if(!c(e))throw new Error("[ChromeStorageAdapter] Invalid serialized state format");return{state:l(e.state),syncMetadata:e.syncMetadata,version:e.version}}function c(e){return!(!e||"object"!=typeof e)&&Object.prototype.hasOwnProperty.call(e,"state")}function h(e,s=t){if(e instanceof Map||e instanceof Set)return s.call(void 0,"",e);if(!r(e))return e;const n={};for(const[t,r]of Object.entries(e))n[t]=s.call(e,t,r);return n}function l(e,t=s){const n=t.call(void 0,"",e);if(!r(n))return n;const a={};for(const e of Object.entries(n)){const s=e[0],r=e[1];a[s]=t.call(n,s,r)}return a}var u=class{constructor(e){this.injectStorageMetadata=!0,this.registrations=new Map,this.isListening=!1,this.onStorageChanged=async(e,t)=>{if(t===this.area)for(const t of this.registrations){const s=t[0],r=t[1];if(r.destroyed)continue;const n=e[this.toStorageKey(s)];if(n&&void 0!==n.newValue)try{const e=this.parsePersistValue(n.newValue);if(!e||e.syncMetadata?.origin===this.sessionId)continue;const t=e?.syncMetadata,s=this.extractChangedFields(r,e.state,t,n.oldValue);if(!Object.keys(s).length)continue;r.registration.apply({replace:!1,sessionId:t?.origin??"unknown",timestamp:t?.timestamp??Date.now(),values:s})}catch(e){continue}}},e&&"storage"in e?(this.area=e.storage.area,this.namespace=e.storage.namespace):(this.area=e?.area??"local",this.namespace=e?.namespace??n),this.sessionId=this.generateSessionId(),this.attachListener()}generateSessionId(){return"undefined"!=typeof crypto&&"randomUUID"in crypto?crypto.randomUUID():`${Math.random().toString(36).slice(2)}:${Date.now().toString(36)}`}register(e){this.attachListener();const t={destroyed:!1,hydrated:!0,listeners:new Set,registration:e};return this.registrations.set(e.key,t),{destroy:()=>{t.destroyed=!0,t.listeners.clear(),this.registrations.delete(e.key),this.registrations.size||this.detachListener()},publish:null}}attachListener(){"undefined"!=typeof chrome&&chrome.storage&&!this.isListening&&(this.isListening=!0,chrome.storage.onChanged.addListener(this.onStorageChanged))}detachListener(){"undefined"!=typeof chrome&&chrome.storage&&this.isListening&&(chrome.storage.onChanged.removeListener(this.onStorageChanged),this.isListening=!1)}extractChangedFields(e,t,s,r){const n=Object.create(null),a=s?.fields;if(a&&Object.keys(a).length>0){let s=!1;for(const r of e.registration.fields){const e=String(r);Object.prototype.hasOwnProperty.call(a,e)&&(n[r]=t[r],s=!0)}if(s)return n}const i=this.parsePersistValue(r);for(const s of e.registration.fields){const e=t[s],r=i?.state[s];Object.is(e,r)||(n[s]=e)}return n}namespacePrefix(){return this.namespace?`${this.namespace}`:""}toStorageKey(e){return`${this.namespacePrefix()}${e}`}parsePersistValue(e){return o(e)}};function g(e){const t=new a(e);return{storage:t,syncEngine:new u({storage:t})}}export{u as ChromeExtensionSyncEngine,a as ChromeStorageAdapter,g as createSyncedChromeStorage};
