{
  "name": "browser-extension",
  "license": "GPL-3.0-only",
  "version": "1.4.1",
  "scripts": {
    "//enable dev mode": "",
    "devmode:on": "sed -i'' -e 's/IS_DEV.*/IS_DEV=true/g' .env",
    "devmode:off": "sed -i'' -e 's/IS_DEV.*/IS_DEV=false/g' .env",
    "// Bumps the pkg.json version": "",
    "bump": "node scripts/bump.js",
    "// Updates the manifest with the settings of a specific target": "",
    "update-manifest": "node scripts/update-manifest.js",
    "update-manifest:prod": "node scripts/update-manifest.js prod",
    "// Generates a build using webpack secured by Lavamoat": "",
    "build": "yarn devmode:off && yarn build:webpack",
    "// Generates modules via Webpack (without LavaMoat protected modules)": "",
    "build:webpack": "lavamoat ./scripts/webpack.js --policy ./lavamoat/build-webpack/policy.json --override ./lavamoat/build-webpack/policy-override.json",
    "// Generates LavaMoat secured modules from the Webpack build": "",
    "build:lavamoat": "lavamoat ./scripts/lavamoat-browserify.js --policy ./lavamoat/build-lavamoat/policy.json --override ./lavamoat/build-lavamoat/policy-override.json",
    "dev": "yarn devmode:on && webpack --config ./webpack.config.dev.js --watch",
    "playground": "PLAYGROUND=default webpack --config ./webpack.config.dev.js --watch",
    "playground:ds": "PLAYGROUND=ds webpack --config ./webpack.config.dev.js --watch",
    "lint": "eslint --cache --max-warnings 0",
    "typecheck": "tsc --noEmit",
    "// Design System scripts": "",
    "// GraphQL scripts": "",
    "graphql-setup": "yarn graphql-codegen:install && yarn graphql-codegen",
    "graphql-codegen:install": "yarn install --cwd src/core/graphql",
    "graphql-codegen": "cd src/core/graphql && yarn codegen",
    "ds:install": "yarn install --cwd src/design-system/docs",
    "ds": "cd src/design-system/docs && yarn dev",
    "ds:build": "cd src/design-system/docs && yarn build",
    "ds:generate-symbols": "node -r esbuild-register ./src/design-system/scripts/generateSymbols.ts",
    "// Generates LavaMoat policies for everything that is protected w/ LavaMoat": "",
    "policy": "yarn policy:build:webpack",
    "// Generates a LavaMoat policy for the output of the Webpack bundle": "",
    "policy:bundle": "yarn build:webpack && GENERATE_POLICY=true lavamoat ./scripts/lavamoat-browserify.js --policy ./lavamoat/build-lavamoat/policy.json --override ./lavamoat/build-lavamoat/policy-override.json",
    "// Generates a LavaMoat policy for the Webpack build script": "",
    "policy:build:webpack": "lavamoat ./scripts/webpack.js --autopolicy --policy ./lavamoat/build-webpack/policy.json --override ./lavamoat/build-webpack/policy-override.json",
    "// Generates a LavaMoat policy for the Lavamoat Browserify script": "",
    "policy:build:lavamoat": "lavamoat ./scripts/lavamoat-browserify.js --autopolicy --policy ./lavamoat/build-lavamoat/policy.json --override ./lavamoat/build-lavamoat/policy-override.json",
    "prepare": "husky install",
    "// Checks the lockfile for changes": "",
    "check-lockfile": "./scripts/check-lockfile.sh",
    "// Installs deps, runs allowed scripts, patches packages and generates lavamoat policies": "",
    "setup": "yarn install && yarn ds:install && yarn graphql-setup && yarn ds:generate-symbols && yarn allow-scripts && yarn patch-package && yarn policy",
    "// runs audit against dep. tree": "",
    "audit:ci": "yarn audit-ci --moderate --config audit-ci.jsonc",
    "// Generates a zip file based on the build folder ready to upload to the chrome web store": "",
    "zip": "cd build/ && zip -r ../rainbowbx.zip *",
    "// Build and zip": "",
    "bundle": "yarn build && yarn zip",
    "// Runs tests": "",
    "anvil": "ETH_MAINNET_RPC=$(grep ETH_MAINNET_RPC .env | cut -d '=' -f2) && anvil --fork-url $ETH_MAINNET_RPC --fork-block-number 19000000",
    "anvil:optimism": "OPTIMISM_MAINNET_RPC=$(grep OPTIMISM_MAINNET_RPC .env | cut -d '=' -f2) && anvil --fork-url $OPTIMISM_MAINNET_RPC",
    "anvil:kill": "lsof -i :8545|tail -n +2|awk '{print $2}'|xargs -r kill -s SIGINT",
    "test": "./scripts/unit-tests.sh",
    "test:watch": "yarn anvil & vitest --watch",
    "// Runs e2e": "",
    "vitest:parallel": "yarn vitest e2e/parallel --config ./e2e/parallel/vitest.config.ts --bail 1",
    "vitest:serial": "./scripts/e2e-serial-tests.sh",
    "vitest:swap": "./scripts/e2e-serial-tests.sh 'swap'",
    "vitest:send": "./scripts/e2e-serial-tests.sh 'send'",
    "vitest:send:optimism": "./scripts/e2e-op-serial-tests.sh 'optimismTransactions'",
    "vitest:dappInteractions": "./scripts/e2e-serial-tests.sh 'dappInteractions'",
    "e2e:mac:chrome": "BROWSER=chrome OS=mac yarn vitest:parallel && yarn vitest:serial",
    "e2e:mac:brave": "BROWSER=brave OS=mac yarn vitest:parallel && yarn vitest:serial",
    "e2e:mac:firefox": "yarn firefox:zip && BROWSER=firefox OS=mac yarn vitest:parallel && yarn vitest:serial",
    "e2e:mac": "yarn e2e:mac:chrome && yarn e2e:mac:brave",
    "e2e": "yarn e2e:mac",
    "firefox:manifest": "node scripts/firefox-manifest.js",
    "firefox:build": "yarn build && yarn firefox:manifest",
    "firefox:zip": "yarn zip && mv rainbowbx.zip rainbowbx.xpi",
    "firefox:lint": "yarn web-ext lint --source-dir ./build",
    "firefox:run": "yarn web-ext run --source-dir ./build/ -f='/Applications/Firefox Developer Edition.app/Contents/MacOS/firefox'"
  },
  "dependencies": {
    "@capsizecss/core": "3.0.0",
    "@ethereumjs/tx": "5.0.0",
    "@ethereumjs/util": "9.0.0",
    "@ethersproject/abstract-signer": "5.7.0",
    "@ethersproject/address": "5.7.0",
    "@ethersproject/bignumber": "5.7.0",
    "@ethersproject/bytes": "5.7.0",
    "@ethersproject/constants": "5.7.0",
    "@ethersproject/contracts": "5.7.0",
    "@ethersproject/hdnode": "5.7.0",
    "@ethersproject/keccak256": "5.7.0",
    "@ethersproject/providers": "5.7.2",
    "@ethersproject/strings": "5.7.0",
    "@ethersproject/transactions": "5.7.0",
    "@ethersproject/units": "5.7.0",
    "@ethersproject/wallet": "5.7.0",
    "@ledgerhq/hw-app-eth": "6.35.3",
    "@ledgerhq/hw-transport-webhid": "6.28.2",
    "@metamask/browser-passworder": "4.1.0",
    "@metamask/eth-sig-util": "7.0.1",
    "@radix-ui/react-accordion": "1.1.2",
    "@radix-ui/react-context-menu": "2.1.1",
    "@radix-ui/react-dropdown-menu": "2.0.1",
    "@radix-ui/react-polymorphic": "0.0.14",
    "@radix-ui/react-select": "1.2.1",
    "@radix-ui/react-tabs": "1.0.4",
    "@radix-ui/react-tooltip": "1.0.3",
    "@rainbow-me/swaps": "0.9.1",
    "@scure/bip39": "1.2.1",
    "@segment/analytics-node": "1.0.0-beta.24",
    "@sentry/browser": "7.69.0",
    "@sentry/tracing": "7.69.0",
    "@tanstack/query-async-storage-persister": "4.29.19",
    "@tanstack/react-query": "4.29.19",
    "@tanstack/react-query-persist-client": "4.29.19",
    "@tanstack/react-virtual": "3.0.0-beta.54",
    "@trezor/connect-plugin-ethereum": "9.0.2",
    "@types/qs": "6.9.7",
    "@vanilla-extract/css": "1.9.1",
    "@vanilla-extract/css-utils": "0.1.2",
    "@vanilla-extract/dynamic": "2.0.2",
    "@vanilla-extract/sprinkles": "1.5.0",
    "bignumber.js": "9.0.1",
    "buffer": "6.0.3",
    "check-password-strength": "2.0.7",
    "chroma-js": "2.4.2",
    "clsx": "1.2.1",
    "cmdk": "0.2.0",
    "currency.js": "2.0.4",
    "date-fns": "2.29.3",
    "deepmerge": "4.2.2",
    "ethereum-cryptography": "2.1.2",
    "eventemitter3": "4.0.7",
    "firebase": "9.18.0",
    "framer-motion": "10.2.3",
    "graphql-request": "5.2.0",
    "i18n-js": "4.1.1",
    "idna-uts46-hx": "3.5.0",
    "imgix-core-js": "2.3.2",
    "lodash": "4.17.21",
    "make-color-more-chill": "0.2.2",
    "match-sorter": "6.3.1",
    "mipd": "0.0.5",
    "mnemonist": "0.39.5",
    "node-vibrant": "3.2.1-alpha.1",
    "parse-ms": "3.0.0",
    "qrcode": "1.5.1",
    "react": "18.2.0",
    "react-beautiful-dnd": "13.1.1",
    "react-dom": "18.2.0",
    "react-flatten-children": "1.1.2",
    "react-image": "4.1.0",
    "react-router-dom": "6.4.2",
    "react-switch": "7.0.0",
    "socket.io-client": "4.5.3",
    "validator": "13.9.0",
    "viem": "1.20.3",
    "wagmi": "0.12.19",
    "word-wrap": "1.2.4",
    "zustand": "4.1.5"
  },
  "devDependencies": {
    "@foundry-rs/hardhat-anvil": "0.1.7",
    "@lavamoat/allow-scripts": "3.0.1",
    "@lavamoat/preinstall-always-fail": "2.0.0",
    "@peculiar/webcrypto": "1.4.1",
    "@testing-library/react": "13.4.0",
    "@total-typescript/ts-reset": "0.4.2",
    "@types/chroma-js": "2.1.4",
    "@types/chrome": "0.0.237",
    "@types/fs-extra": "9.0.13",
    "@types/lodash": "4.14.186",
    "@types/node": "18.11.0",
    "@types/opentype.js": "1.3.4",
    "@types/prettier": "3.0.0",
    "@types/qrcode": "1.5.0",
    "@types/react": "18.0.21",
    "@types/react-beautiful-dnd": "13.1.3",
    "@types/react-dom": "18.0.6",
    "@types/selenium-webdriver": "4.1.15",
    "@types/semver": "7.3.13",
    "@types/validator": "13.7.12",
    "@typescript-eslint/eslint-plugin": "6.4.1",
    "@typescript-eslint/parser": "6.4.1",
    "@vanilla-extract/vite-plugin": "3.6.1",
    "@vanilla-extract/webpack-plugin": "2.2.0",
    "ansi-styles": "6.2.1",
    "audit-ci": "6.3.0",
    "browserify": "17.0.0",
    "chalk": "5.3.0",
    "chromedriver": "120.0.1",
    "circular-dependency-plugin": "5.2.2",
    "copy-webpack-plugin": "11.0.0",
    "css-loader": "6.7.1",
    "dotenv-webpack": "8.0.1",
    "esbuild": "0.15.14",
    "esbuild-register": "3.4.1",
    "eslint": "8.48.0",
    "eslint-config-prettier": "9.0.0",
    "eslint-config-rainbow": "4.4.0",
    "eslint-plugin-import": "2.28.1",
    "eslint-plugin-jest": "27.2.3",
    "eslint-plugin-prettier": "5.0.0",
    "file-loader": "6.2.0",
    "fs-extra": "10.1.0",
    "geckodriver": "4.3.0",
    "globby": "11.0.4",
    "happy-dom": "8.9.0",
    "html-webpack-plugin": "5.5.0",
    "husky": "8.0.1",
    "jest": "29.2.0",
    "lavamoat": "8.0.3",
    "lavamoat-browserify": "17.0.4",
    "lint-staged": "13.0.3",
    "mini-css-extract-plugin": "2.6.1",
    "msw": "1.3.1",
    "opentype.js": "1.3.4",
    "patch-package": "6.4.7",
    "prettier": "3.0.2",
    "selenium-webdriver": "4.10.0",
    "semver": "7.5.2",
    "supports-color": "5.5.0",
    "svg-path-commander": "1.0.5",
    "ts-loader": "9.4.1",
    "typescript": "5.2.2",
    "vitest": "0.34.6",
    "web-ext": "7.6.2",
    "webpack": "5.79.0",
    "webpack-bundle-analyzer": "4.8.0",
    "webpack-cli": "5.1.4",
    "webpack-extension-reloader": "rainbow-me/webpack-extension-reloader#23fc3ed1f59f295702d459ad58aec90d6f0a3551",
    "worker-loader": "3.0.8"
  },
  "resolutions": {
    "bn.js": "5.2.1",
    "@scure/bip39": "1.2.1",
    "protobufjs": "7.2.4",
    "@grpc/grpc-js": "1.8.8",
    "semver": "7.5.2",
    "globby": "11.1.0",
    "json5": "2.2.2",
    "eslint-import-resolver-typescript": "2.7.1",
    "minimatch": "3.0.5",
    "minimist": "1.2.6",
    "set-value": "2.0.1",
    "grunt": "1.5.3",
    "lodash": "4.17.21",
    "underscore": "1.12.1",
    "underscore.string": "3.3.5",
    "clean-css": "4.1.11",
    "@xmldom/xmldom": "0.8.4",
    "loader-utils": "2.0.4",
    "nth-check": "2.0.1",
    "decode-uri-component": "0.2.1",
    "http-cache-semantics": "4.1.1",
    "socket.io-parser": "4.2.3",
    "tough-cookie": "4.1.3",
    "graphql": "16.8.1",
    "vite": "4.5.1",
    "chai": "4.3.10",
    "supports-color": "5.5.0",
    "postcss": "8.4.31",
    "crypto-js": "4.2.0",
    "yaml": "2.2.2",
    "browserify-sign": "4.2.2",
    "axios": "1.6.1",
    "follow-redirects": "1.15.4"
  },
  "lavamoat": {
    "allowScripts": {
      "@lavamoat/preinstall-always-fail": false,
      "browserify-hmr>socket.io>engine.io>ws>bufferutil": false,
      "browserify-hmr>socket.io>engine.io>ws>utf-8-validate": false,
      "@vanilla-extract/webpack-plugin>@vanilla-extract/integration>esbuild": false,
      "webpack-extension-reloader>webpack>watchpack>chokidar>fsevents": false,
      "webpack-extension-reloader>ws>bufferutil": false,
      "webpack-extension-reloader>ws>utf-8-validate": false,
      "wagmi>@coinbase/wallet-sdk>@solana/web3.js>bigint-buffer": false,
      "wagmi>@coinbase/wallet-sdk>@solana/web3.js>secp256k1": false,
      "wagmi>@coinbase/wallet-sdk>keccak": false,
      "chromedriver": true,
      "geckodriver": true,
      "selenium-webdriver>ws>bufferutil": false,
      "selenium-webdriver>ws>utf-8-validate": false,
      "vitest>vite>esbuild": false,
      "@vanilla-extract/vite-plugin>@vanilla-extract/integration>esbuild": false,
      "msw": false,
      "@foundry-rs/hardhat-anvil>hardhat>@ethereumjs/vm>core-js-pure": false,
      "@foundry-rs/hardhat-anvil>hardhat>ethereumjs-util>ethereum-cryptography>keccak": false,
      "@foundry-rs/hardhat-anvil>hardhat>ethereumjs-util>ethereum-cryptography>secp256k1": false,
      "@foundry-rs/hardhat-anvil>hardhat>ws>bufferutil": false,
      "@foundry-rs/hardhat-anvil>hardhat>ws>utf-8-validate": false,
      "esbuild": false,
      "@foundry-rs/hardhat-anvil>ethereum-waffle>@ethereum-waffle/provider>ganache-core>ethereumjs-util>ethereum-cryptography>secp256k1": false,
      "@foundry-rs/hardhat-anvil>ethereum-waffle>@ethereum-waffle/provider>ganache-core>ethereumjs-vm>core-js-pure": false,
      "@foundry-rs/hardhat-anvil>ethereum-waffle>@ethereum-waffle/provider>ganache-core>keccak": false,
      "@foundry-rs/hardhat-anvil>ethereum-waffle>@ethereum-waffle/provider>ganache-core>web3": false,
      "@foundry-rs/hardhat-anvil>ethereum-waffle>@ethereum-waffle/provider>ganache-core>web3-provider-engine>eth-block-tracker>json-rpc-engine>babelify>babel-core>babel-runtime>core-js": false,
      "@foundry-rs/hardhat-anvil>ethereum-waffle>@ethereum-waffle/provider>ganache-core>websocket>bufferutil": false,
      "@foundry-rs/hardhat-anvil>ethereum-waffle>@ethereum-waffle/provider>ganache-core>websocket>utf-8-validate": false,
      "@foundry-rs/hardhat-anvil>ethereum-waffle>@ethereum-waffle/provider>postinstall-postinstall": false,
      "@foundry-rs/hardhat-anvil>hardhat>ethereum-cryptography>keccak": false,
      "@foundry-rs/hardhat-anvil>hardhat>ethereum-cryptography>secp256k1": false,
      "firebase>@firebase/firestore>@grpc/grpc-js>@grpc/proto-loader>protobufjs": false,
      "firebase>@firebase/firestore>@grpc/proto-loader>protobufjs": false,
      "@ledgerhq/hw-app-eth>@ledgerhq/domain-service>eip55>keccak": false,
      "@rainbow-me/swaps>ethereumjs-util>ethereum-cryptography>keccak": false,
      "@rainbow-me/swaps>ethereumjs-util>ethereum-cryptography>secp256k1": false,
      "wagmi>@wagmi/core>@wagmi/connectors>@coinbase/wallet-sdk>@solana/web3.js>bigint-buffer": false,
      "web-ext>bunyan>dtrace-provider": false,
      "web-ext>fx-runner>spawn-sync": false,
      "web-ext>sign-addon>core-js": false,
      "web-ext>ws>bufferutil": false,
      "web-ext>ws>utf-8-validate": false,
      "@ledgerhq/domain-service>eip55>keccak": false,
      "wagmi>@wagmi/core>@wagmi/connectors>@coinbase/wallet-sdk>keccak": false,
      "viem>ws>bufferutil": false,
      "viem>ws>utf-8-validate": false
    }
  }
}