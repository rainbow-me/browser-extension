var m={lightTheme:"lt",darkTheme:"dt"};function s(){let t=localStorage.getItem("rainbow.theme"),e=typeof window<"u"?window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light":null;return{savedTheme:t,systemTheme:e}}function h({defaultTheme:t}={}){let e=o=>{document.documentElement.classList.remove(...Object.values(m)),document.documentElement.classList.add(m[o==="dark"?"darkTheme":"lightTheme"])},l=window.matchMedia("(prefers-color-scheme: dark)"),{savedTheme:n,systemTheme:a}=s(),r=n||a||t;r&&e(r),n||l.addEventListener("change",({matches:o})=>{e(o?"dark":"light")})}export{h as initThemingCritical};
