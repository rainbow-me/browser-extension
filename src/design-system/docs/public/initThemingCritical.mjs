var n={lightTheme:"lt",darkTheme:"dt"};function r(){let e=typeof localStorage<"u"?localStorage.getItem("rainbow.theme"):null,t=typeof window<"u"?window.matchMedia("(prefers-color-scheme: light)").matches?"light":"dark":null;return{savedTheme:e,systemTheme:t}}function i({defaultTheme:e,enableSaved:t=!0}={}){let m=o=>{document.documentElement.classList.remove(...Object.values(n)),document.documentElement.classList.add(n[o==="dark"?"darkTheme":"lightTheme"])},s=window.matchMedia("(prefers-color-scheme: dark)"),{savedTheme:l,systemTheme:a}=r();m((t?l:void 0)||e||a||"dark"),l||s.addEventListener("change",({matches:o})=>{m(o?"dark":"light")})}export{i as initThemingCritical};
