import React, { useEffect, useState } from 'react';

import { Box } from '~/design-system';

export function ReadyShortcut() {
  const [isShiftPressed, setIsShiftPressed] = useState(false);
  const [isOptionPressed, setIsOptionPressed] = useState(false);
  const [isRPressed, setIsRPressed] = useState(false);

  useEffect(() => {
    const handleKeyDown = (event: KeyboardEvent) => {
      switch (event.key) {
        case 'Shift':
          setIsShiftPressed(true);
          break;
        case 'Alt':
          setIsOptionPressed(true);
          break;
        case 'r':
        case 'R':
          setIsRPressed(true);
          break;
        default:
          break;
      }
    };

    const handleKeyUp = (event: KeyboardEvent) => {
      switch (event.key) {
        case 'Shift':
          setIsShiftPressed(false);
          break;
        case 'Alt':
          setIsOptionPressed(false);
          break;
        case 'r':
        case 'R':
          setIsRPressed(false);
          break;
        default:
          break;
      }
    };

    window.addEventListener('keydown', handleKeyDown);
    window.addEventListener('keyup', handleKeyUp);

    return () => {
      window.removeEventListener('keydown', handleKeyDown);
      window.removeEventListener('keyup', handleKeyUp);
    };
  }, []);

  return (
    <Box>
      <Box>
        <OpenText isShiftPressed={isShiftPressed} />
      </Box>
      <Box>
        <Regular />
      </Box>
    </Box>
  );
}

function OpenText({ isShiftPressed }: { isShiftPressed: boolean }) {
  return (
    <svg
      width="114"
      height="17"
      viewBox="0 0 114 17"
      fill="none"
      xmlns="http://www.w3.org/2000/svg"
    >
      <path
        d="M6.11406 13.1953C9.52812 13.1953 11.6766 10.9609 11.6766 7.36719C11.6766 3.77344 9.52812 1.53125 6.11406 1.53125C2.7 1.53125 0.543747 3.77344 0.543747 7.36719C0.543747 10.9609 2.69218 13.1953 6.11406 13.1953ZM6.11406 10.8672C4.50468 10.8672 3.46562 9.50781 3.46562 7.36719C3.46562 5.21875 4.5125 3.85938 6.11406 3.85938C7.71562 3.85938 8.7625 5.21875 8.7625 7.36719C8.7625 9.50781 7.71562 10.8672 6.11406 10.8672ZM14.6281 16.0547C15.4328 16.0547 16.0109 15.5859 16.0109 14.6172V11.5469H16.0656C16.4797 12.5312 17.4172 13.125 18.6672 13.125C20.7844 13.125 22.0266 11.5234 22.0266 8.75C22.0266 5.96875 20.7766 4.36719 18.6281 4.36719C17.4016 4.36719 16.4797 4.98438 16.05 6.00781H15.9953V5.74219C15.9953 4.77344 15.425 4.3125 14.6203 4.3125C13.8078 4.3125 13.2375 4.77344 13.2375 5.73438V14.6172C13.2375 15.5859 13.8156 16.0547 14.6281 16.0547ZM17.5969 10.9609C16.6203 10.9609 16.0031 10.1016 15.9953 8.75C16.0031 7.40625 16.6281 6.53125 17.5969 6.53125C18.5734 6.53125 19.1984 7.39844 19.1984 8.75C19.1984 10.1016 18.5812 10.9609 17.5969 10.9609ZM27.5484 13.2031C29.2437 13.2031 30.6187 12.6016 31.1812 11.6016C31.3062 11.3984 31.3687 11.1875 31.3687 10.9766C31.3687 10.3672 30.8922 10.0078 30.3297 10.0078C29.9859 10.0078 29.7594 10.1016 29.4703 10.375C28.8531 11 28.3297 11.2422 27.5719 11.2422C26.5719 11.2422 25.8922 10.5391 25.8922 9.50781V9.35156H30.5172C31.2359 9.35156 31.6344 8.96094 31.6344 8.25781C31.6344 5.96094 29.9703 4.28906 27.4391 4.28906C24.8453 4.28906 23.2047 6.03125 23.2047 8.78906C23.2047 11.5547 24.8219 13.2031 27.5484 13.2031ZM25.9312 7.77344C26.0016 6.88281 26.6344 6.25781 27.4937 6.25781C28.3609 6.25781 28.9781 6.85156 29.025 7.77344H25.9312ZM34.4531 13.1797C35.2578 13.1797 35.8359 12.7109 35.8359 11.7422V8.1875C35.8359 7.25 36.3828 6.58594 37.2656 6.58594C38.1719 6.58594 38.6328 7.16406 38.6328 8.13281V11.7422C38.6328 12.7109 39.2031 13.1797 40.0156 13.1797C40.8281 13.1797 41.3984 12.7109 41.3984 11.7422V7.53906C41.3984 5.51562 40.3438 4.32812 38.4453 4.32812C37.1406 4.32812 36.3125 4.90625 35.8672 6.03125H35.8125V5.71094C35.8125 4.82812 35.2578 4.3125 34.4062 4.3125C33.5547 4.3125 33.0625 4.82812 33.0625 5.70312V11.7422C33.0625 12.7109 33.6406 13.1797 34.4531 13.1797ZM48.1375 13.1797C49.0437 13.1797 49.5672 12.6328 49.5672 11.6875V9.05469H51.2078L52.8797 12.0625C53.3641 12.9375 53.6609 13.1797 54.3562 13.1797C55.1922 13.1797 55.7859 12.6328 55.7859 11.875C55.7859 11.5391 55.7312 11.3047 55.4812 10.8906L54.0984 8.53906C55.2469 7.96094 55.8562 6.77344 55.8562 5.44531C55.8562 3.11719 54.3406 1.72656 51.5281 1.72656H48.1375C47.2312 1.72656 46.7 2.27344 46.7 3.22656V11.6875C46.7 12.6328 47.2312 13.1797 48.1375 13.1797ZM49.5672 7.09375V3.89062H51.2391C52.2625 3.89062 52.9266 4.53906 52.9266 5.5C52.9266 6.47656 52.3016 7.09375 51.2469 7.09375H49.5672ZM59.9328 13.125C60.9562 13.125 61.9953 12.6484 62.4562 11.7891H62.5109V11.9844C62.5891 12.7969 63.1125 13.1797 63.8469 13.1797C64.6359 13.1797 65.2062 12.7344 65.2062 11.7891V7.16406C65.2062 5.45312 63.6984 4.28906 61.425 4.28906C59.4719 4.28906 58.05 4.92969 57.6906 5.98438C57.6281 6.14844 57.6047 6.28906 57.6047 6.48438C57.6047 7.07812 58.0734 7.49219 58.7375 7.49219C59.1594 7.49219 59.5109 7.33594 59.8312 7.01562C60.3625 6.4375 60.6906 6.26562 61.2844 6.26562C62.0109 6.26562 62.4953 6.64062 62.4953 7.32031V7.80469L60.5031 7.92188C58.3 8.05469 57.0734 8.94531 57.0734 10.5391C57.0734 12.0781 58.3469 13.125 59.9328 13.125ZM60.9172 11.2188C60.2531 11.2188 59.8078 10.8906 59.8078 10.3516C59.8078 9.85156 60.2219 9.51562 60.9484 9.46094L62.4953 9.35938V9.94531C62.4953 10.7031 61.7609 11.2188 60.9172 11.2188ZM68.2906 3.625C69.0953 3.625 69.7047 3.03906 69.7047 2.27344C69.7047 1.5 69.0953 0.914062 68.2906 0.914062C67.4859 0.914062 66.8687 1.5 66.8687 2.27344C66.8687 3.03906 67.4859 3.625 68.2906 3.625ZM68.2906 13.1797C69.1578 13.1797 69.6734 12.6562 69.6734 11.7422V5.75C69.6734 4.84375 69.1578 4.3125 68.2906 4.3125C67.4156 4.3125 66.9078 4.84375 66.9078 5.75V11.7422C66.9078 12.6562 67.4156 13.1797 68.2906 13.1797ZM72.7656 13.1797C73.5703 13.1797 74.1484 12.7109 74.1484 11.7422V8.1875C74.1484 7.25 74.6953 6.58594 75.5781 6.58594C76.4844 6.58594 76.9453 7.16406 76.9453 8.13281V11.7422C76.9453 12.7109 77.5156 13.1797 78.3281 13.1797C79.1406 13.1797 79.7109 12.7109 79.7109 11.7422V7.53906C79.7109 5.51562 78.6562 4.32812 76.7578 4.32812C75.4531 4.32812 74.625 4.90625 74.1797 6.03125H74.125V5.71094C74.125 4.82812 73.5703 4.3125 72.7188 4.3125C71.8672 4.3125 71.375 4.82812 71.375 5.70312V11.7422C71.375 12.7109 71.9531 13.1797 72.7656 13.1797ZM82.7875 13.1797C83.6 13.1797 84.1703 12.7188 84.1703 11.7578V11.5391H84.225C84.6547 12.5234 85.5922 13.125 86.8344 13.125C88.9672 13.125 90.2094 11.5234 90.2094 8.75C90.2094 5.96875 88.9594 4.36719 86.8109 4.36719C85.6 4.36719 84.6703 4.97656 84.2406 6H84.1859V2.98438C84.1859 2.01562 83.6078 1.54688 82.8031 1.54688C81.9906 1.54688 81.4125 2.01562 81.4125 2.98438V11.7578C81.4125 12.7188 81.9828 13.1797 82.7875 13.1797ZM85.7797 10.9609C84.8109 10.9609 84.1781 10.1094 84.1703 8.75C84.1781 7.40625 84.8109 6.53125 85.7797 6.53125C86.7484 6.53125 87.3734 7.39844 87.3734 8.75C87.3734 10.1016 86.7563 10.9609 85.7797 10.9609ZM95.7312 13.2031C98.4109 13.2031 100.083 11.5859 100.083 8.74219C100.083 5.95312 98.3875 4.28906 95.7312 4.28906C93.0906 4.28906 91.3797 5.96094 91.3797 8.74219C91.3797 11.5781 93.0516 13.2031 95.7312 13.2031ZM95.7312 11.1719C94.7781 11.1719 94.1922 10.3047 94.1922 8.75C94.1922 7.21875 94.7937 6.32031 95.7312 6.32031C96.6766 6.32031 97.2781 7.21875 97.2781 8.75C97.2781 10.3047 96.6766 11.1719 95.7312 11.1719ZM104.464 13.1797C105.48 13.1797 106.019 12.7344 106.245 11.7031L107.292 7.27344H107.347L108.402 11.6797C108.636 12.7266 109.175 13.1797 110.214 13.1797C111.206 13.1797 111.722 12.7188 112.019 11.6875L113.55 6.35156C113.652 5.97656 113.706 5.74219 113.706 5.47656C113.706 4.79688 113.167 4.3125 112.409 4.3125C111.722 4.3125 111.261 4.75 111.12 5.47656L110.066 10.5H110.011L108.925 5.59375C108.753 4.75781 108.206 4.3125 107.378 4.3125C106.542 4.3125 105.995 4.75781 105.831 5.58594L104.753 10.5H104.698L103.644 5.5C103.495 4.75 103.027 4.3125 102.339 4.3125C101.566 4.3125 101.003 4.80469 101.003 5.49219C101.003 5.76562 101.058 6 101.167 6.38281L102.698 11.7031C102.987 12.7188 103.495 13.1797 104.464 13.1797Z"
        fill={
          isShiftPressed ? `url(#paint_radial)` : `rgba(245, 248, 255, 0.4)`
        }
        className="transition"
      />
      <defs>
        <radialGradient
          id="paint_radial"
          cx="0"
          cy="0"
          r="1"
          gradientUnits="userSpaceOnUse"
          gradientTransform="translate(160 8) rotate(-180) scale(208 56.3541)"
        >
          <stop stopColor="#FFB114" />
          <stop offset="0.635417" stopColor="#FF54BB" />
          <stop offset="1" stopColor="#00F0FF" />
        </radialGradient>
      </defs>
    </svg>
  );
}

function Regular() {
  return (
    <svg xmlns="http://www.w3.org/2000/svg" width="210" height="45" fill="none">
      <rect width="102" height="44" y=".5" fill="#242529" rx="18" />
      <path
        fill="#fff"
        d="M37.284 27.703c2.368 0 3.953-1.125 3.953-2.906 0-1.274-.789-1.969-2.617-2.328l-1.476-.29c-.813-.163-1.07-.398-1.07-.765 0-.46.453-.758 1.124-.758.813 0 1.235.438 1.657.86.234.218.633.343.945.343.719 0 1.055-.39 1.055-.922 0-.132-.024-.265-.07-.398-.305-.937-1.618-1.75-3.563-1.75-2.352 0-3.813 1.07-3.813 2.781 0 1.29.868 2.172 2.547 2.5l1.485.297c.773.156 1.046.36 1.046.735 0 .46-.46.734-1.18.734-.773 0-1.304-.234-1.773-.75-.398-.39-.765-.57-1.203-.57-.625 0-1.078.43-1.078 1.039 0 .14.04.304.102.468.398.977 1.758 1.68 3.93 1.68Zm6.718-.023c.804 0 1.382-.47 1.382-1.438v-3.539c0-.953.524-1.617 1.453-1.617.915 0 1.391.594 1.391 1.555v3.601c0 .969.57 1.438 1.383 1.438.812 0 1.383-.47 1.383-1.438V22.04c0-2.008-1.055-3.21-2.953-3.21-1.297 0-2.227.624-2.664 1.765h-.055V17.46c0-.898-.492-1.414-1.352-1.414-.86 0-1.36.515-1.36 1.406v8.79c0 .968.58 1.437 1.392 1.437Zm10.053-9.555c.804 0 1.414-.586 1.414-1.352 0-.773-.61-1.359-1.414-1.359-.805 0-1.422.586-1.422 1.36 0 .765.617 1.351 1.422 1.351Zm0 9.555c.867 0 1.383-.524 1.383-1.438V20.25c0-.906-.516-1.438-1.383-1.438-.875 0-1.383.532-1.383 1.438v5.992c0 .914.508 1.438 1.383 1.438Zm5.17 0c.813 0 1.383-.461 1.383-1.43v-5.219h.75c.547 0 .976-.351.976-.992 0-.633-.43-.984-.976-.984h-.828v-.36c0-.5.258-.742.953-.78a1.78 1.78 0 0 0 .445-.071c.344-.094.516-.305.516-.664 0-.617-.57-1.07-2.04-1.07-1.718.015-2.57.75-2.57 2.453v.492h-.304c-.54 0-.977.351-.977.984 0 .64.438.992.977.992h.304v5.219c0 .969.57 1.43 1.391 1.43Zm5.1-2.461c0 1.578.836 2.39 2.477 2.39h.07c1.07 0 1.945-.406 1.945-1.21 0-.641-.36-.915-.976-.985l-.172-.023c-.39-.04-.57-.25-.57-.782v-3.57h.671c.618 0 1.024-.406 1.024-1.023 0-.618-.406-1.024-1.024-1.024h-.672v-.68c0-.898-.507-1.437-1.382-1.437-.883 0-1.391.54-1.391 1.438v.68h-.305c-.617 0-1.023.398-1.023 1.023 0 .617.406 1.023 1.023 1.023h.305v4.18Z"
      />
      <rect
        width="101"
        height="43"
        x=".5"
        y="1"
        stroke="#fff"
        strokeOpacity=".03"
        rx="17.5"
      />
      <rect width="44" height="44" x="112" y=".5" fill="#242529" rx="18" />
      <path
        fill="#fff"
        d="M130.609 15.68h-3.554c-.766 0-1.352.578-1.352 1.312 0 .75.586 1.32 1.352 1.32h2.968c.18 0 .313.079.383.227l4.93 10.18c.453.937 1.062 1.328 2.031 1.328h3.578c.758 0 1.352-.578 1.352-1.313 0-.75-.586-1.32-1.352-1.32h-2.984c-.18 0-.32-.078-.391-.227l-4.906-10.171c-.43-.86-1.148-1.336-2.055-1.336Zm10.336 0h-4.523c-.766 0-1.352.578-1.352 1.312 0 .75.578 1.313 1.352 1.313h4.523c.766 0 1.352-.563 1.352-1.313 0-.742-.586-1.312-1.352-1.312Z"
      />
      <rect
        width="43"
        height="43"
        x="112.5"
        y="1"
        stroke="#fff"
        strokeOpacity=".03"
        rx="17.5"
      />
      <rect width="44" height="44" x="166" y=".5" fill="#242529" rx="18" />
      <path
        fill="#fff"
        d="M184.992 28.68c.906 0 1.43-.547 1.43-1.492v-2.633h1.64l1.672 3.008c.485.875.782 1.117 1.477 1.117.836 0 1.43-.547 1.43-1.305 0-.336-.055-.57-.305-.984l-1.383-2.352c1.149-.578 1.758-1.766 1.758-3.094 0-2.328-1.516-3.718-4.328-3.718h-3.391c-.906 0-1.437.546-1.437 1.5v8.46c0 .946.531 1.493 1.437 1.493Zm1.43-6.086V19.39h1.672c1.023 0 1.687.648 1.687 1.609 0 .977-.625 1.594-1.679 1.594h-1.68Z"
      />
      <rect
        width="43"
        height="43"
        x="166.5"
        y="1"
        stroke="#fff"
        strokeOpacity=".03"
        rx="17.5"
      />
    </svg>
  );
}
